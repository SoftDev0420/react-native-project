mutation upsertDeal(
  $title: String!
  $namewhere: String!
  $value: String!
  $currency: String!
  $owner: UserWhereUniqueInput
  $org: OrganizationWhereUniqueInput
  $stage: StageWhereUniqueInput
  $participants: [PersonWhereUniqueInput!]
  $products: [ProductWhereUniqueInput!]
  $status: OrderStatus
  $probability: String
) {
  upsertDeal(
    where: { title: $namewhere }
    create: {
      title: $title
      value: $value
      currency: $currency
      owner: { connect: $owner }
      org: { connect: $org }
      stage: { connect: $stage }
      products: { connect: $products }
      participants: { connect: $participants }
      status: $status
      probability: $probability
    }
    update: {
      title: $title
      value: $value
      currency: $currency
      owner: { connect: $owner }
      org: { connect: $org }
      stage: { connect: $stage }
      products: { connect: $products }
      participants: { connect: $participants }
      status: $status
      probability: $probability
    }
  ) {
    id
    title
    currency
    owner {
      id
    }
    org {
      id
    }
    stage {
      id
    }
    products {
      id
    }
    participants {
      id
    }
    status
    probability
  }
}
mutation deleteDeal($name: String) {
  deleteDeal(where: { name: $name }) {
    id
    name
    currency
    owner {
      id
    }
    org {
      id
    }
    stage {
      id
    }
    products {
      id
    }
    participants {
      id
    }
    status
    probability
  }
}

query deal($name: String) {
  deal(where: { name: $name }) {
    id
    name
    currency
    owner {
      id
    }
    org {
      id
    }
    stage {
      id
    }
    products {
      id
    }
    participants {
      id
    }
    status
    probability
  }
}
query deals {
  deals {
    id
    name
    currency
    owner {
      id
    }
    org {
      id
    }
    stage {
      id
    }
    products {
      id
    }
    participants {
      id
    }
    status
    probability
  }
}
